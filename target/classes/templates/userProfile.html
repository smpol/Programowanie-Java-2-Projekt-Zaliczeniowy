<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profil Uzytkownika</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="container py-4">
<h1>Profil Uzytkownika</h1>
<div th:if="${profile != null}" class="mb-4">
    <p>Imie: <span th:text="${profile.firstName} ?: 'Brak danych'">Imie</span></p>
    <p>Nazwisko: <span th:text="${profile.lastName} ?: 'Brak danych'">Nazwisko</span></p>
    <p>Email: <span th:text="${profile.email} ?: 'Brak danych'">Email</span></p>
    <p>Telefon: <span th:text="${profile.phoneNumber} ?: 'Brak danych'">Numer Telefonu</span></p>
</div>

<h2>Aktualizuj Profil</h2>
<form action="/user/updateProfile" method="post" class="needs-validation" novalidate>
    <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>

    <div class="mb-3">
        <label for="firstName" class="form-label">Imie</label>
        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="Imie"
               th:value="${profile.firstName}" required>
        <div class="invalid-feedback">Proszę podać imię.</div>
    </div>
    <div class="mb-3">
        <label for="lastName" class="form-label">Nazwisko</label>
        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Nazwisko"
               th:value="${profile.lastName}" required>
        <div class="invalid-feedback">Proszę podać nazwisko.</div>
    </div>
    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Email" th:value="${profile.email}"
               required>
        <div class="invalid-feedback">Proszę podać adres email.</div>
    </div>
    <div class="mb-3">
        <label for="phoneNumber" class="form-label">Telefon</label>
        <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Numer Telefonu"
               th:value="${profile.phoneNumber}" required>
        <div class="invalid-feedback">Proszę podać numer telefonu.</div>
    </div>
    <button type="submit" class="btn btn-primary">Aktualizuj</button>
</form>
</body>
</html>
